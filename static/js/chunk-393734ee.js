(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-393734ee"],{"0bb3":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("fb6a"),a("0d03"),a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("53ca");var r=a("474f");function n(e,t,a){var n="*￥#64)$#24^$%35&",i="_appid=22&_appversion=1.0.0&_accesstoken="+t+"&_requesttime="+e+"&_uid="+a+"&_did=0",l="";return l=r.encryptToBase64(i,n).replace(/\+/g,"-"),l=l.replace(/\//g,"_"),l=l.replace(/\=/g,"."),l}},"474f":function(e,t,a){(function(t){a("a15b"),a("0d03"),a("d3b7"),a("ac1f"),a("25f0"),a("1276"),"undefined"==typeof t.btoa&&(t.btoa=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return function(t){var a,r,n,i,l,o,c;r=n=0,i=t.length,l=i%3,i-=l,o=i/3<<2,l>0&&(o+=4),a=new Array(o);while(r<i)c=t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<8|t.charCodeAt(r++),a[n++]=e[c>>18]+e[c>>12&63]+e[c>>6&63]+e[63&c];return 1==l?(c=t.charCodeAt(r++),a[n++]=e[c>>2]+e[(3&c)<<4]+"=="):2==l&&(c=t.charCodeAt(r++)<<8|t.charCodeAt(r++),a[n++]=e[c>>10]+e[c>>4&63]+e[(15&c)<<2]+"="),a.join("")}}()),"undefined"==typeof t.atob&&(t.atob=function(){var e=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];return function(t){var a,r,n,i,l,o,c,s,d,u;if(c=t.length,c%4!==0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";s="="==t.charAt(c-2)?1:"="==t.charAt(c-1)?2:0,d=c,s>0&&(d-=4),d=3*(d>>2)+s,u=new Array(d),l=o=0;while(l<c){if(a=e[t.charCodeAt(l++)],-1==a)break;if(r=e[t.charCodeAt(l++)],-1==r)break;if(u[o++]=String.fromCharCode(a<<2|(48&r)>>4),n=e[t.charCodeAt(l++)],-1==n)break;if(u[o++]=String.fromCharCode((15&r)<<4|(60&n)>>2),i=e[t.charCodeAt(l++)],-1==i)break;u[o++]=String.fromCharCode((3&n)<<6|i)}return u.join("")}}());var r=2654435769;function n(e,t){var a=e.length,r=a<<2;if(t){var n=e[a-1];if(r-=4,n<r-3||n>r)return null;r=n}for(var i=0;i<a;i++)e[i]=String.fromCharCode(255&e[i],e[i]>>>8&255,e[i]>>>16&255,e[i]>>>24&255);var l=e.join("");return t?l.substring(0,r):l}function i(e,t){var a,r=e.length,n=r>>2;0!==(3&r)&&++n,t?(a=new Array(n+1),a[n]=r):a=new Array(n);for(var i=0;i<r;++i)a[i>>2]|=e.charCodeAt(i)<<((3&i)<<3);return a}function l(e){return 4294967295&e}function o(e,t,a,r,n,i){return(a>>>5^t<<2)+(t>>>3^a<<4)^(e^t)+(i[3&r^n]^a)}function c(e){return e.length<4&&(e.length=4),e}function s(e,t){var a,n,i,c,s,d,u=e.length,p=u-1;for(n=e[p],i=0,d=0|Math.floor(6+52/u);d>0;--d){for(i=l(i+r),c=i>>>2&3,s=0;s<p;++s)a=e[s+1],n=e[s]=l(e[s]+o(i,a,n,s,c,t));a=e[0],n=e[p]=l(e[p]+o(i,a,n,p,c,t))}return e}function d(e,t){var a,n,i,c,s,d,u=e.length,p=u-1;for(a=e[0],d=Math.floor(6+52/u),i=l(d*r);0!==i;i=l(i-r)){for(c=i>>>2&3,s=p;s>0;--s)n=e[s-1],a=e[s]=l(e[s]-o(i,a,n,s,c,t));n=e[p],a=e[0]=l(e[0]-o(i,a,n,0,c,t))}return e}function u(e){if(/^[\x00-\x7f]*$/.test(e))return e;for(var t=[],a=e.length,r=0,n=0;r<a;++r,++n){var i=e.charCodeAt(r);if(i<128)t[n]=e.charAt(r);else if(i<2048)t[n]=String.fromCharCode(192|i>>6,128|63&i);else{if(!(i<55296||i>57343)){if(r+1<a){var l=e.charCodeAt(r+1);if(i<56320&&56320<=l&&l<=57343){var o=65536+((1023&i)<<10|1023&l);t[n]=String.fromCharCode(240|o>>18&63,128|o>>12&63,128|o>>6&63,128|63&o),++r;continue}}throw new Error("Malformed string")}t[n]=String.fromCharCode(224|i>>12,128|i>>6&63,128|63&i)}}return t.join("")}function p(e,t){for(var a=new Array(t),r=0,n=0,i=e.length;r<t&&n<i;r++){var l=e.charCodeAt(n++);switch(l>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a[r]=l;break;case 12:case 13:if(!(n<i))throw new Error("Unfinished UTF-8 octet sequence");a[r]=(31&l)<<6|63&e.charCodeAt(n++);break;case 14:if(!(n+1<i))throw new Error("Unfinished UTF-8 octet sequence");a[r]=(15&l)<<12|(63&e.charCodeAt(n++))<<6|63&e.charCodeAt(n++);break;case 15:if(!(n+2<i))throw new Error("Unfinished UTF-8 octet sequence");var o=((7&l)<<18|(63&e.charCodeAt(n++))<<12|(63&e.charCodeAt(n++))<<6|63&e.charCodeAt(n++))-65536;if(!(0<=o&&o<=1048575))throw new Error("Character outside valid Unicode range: 0x"+o.toString(16));a[r++]=o>>10&1023|55296,a[r]=1023&o|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+l.toString(16))}}return r<t&&(a.length=r),String.fromCharCode.apply(String,a)}function f(e,t){for(var a=[],r=new Array(32768),n=0,i=0,l=e.length;n<t&&i<l;n++){var o=e.charCodeAt(i++);switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[n]=o;break;case 12:case 13:if(!(i<l))throw new Error("Unfinished UTF-8 octet sequence");r[n]=(31&o)<<6|63&e.charCodeAt(i++);break;case 14:if(!(i+1<l))throw new Error("Unfinished UTF-8 octet sequence");r[n]=(15&o)<<12|(63&e.charCodeAt(i++))<<6|63&e.charCodeAt(i++);break;case 15:if(!(i+2<l))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&o)<<18|(63&e.charCodeAt(i++))<<12|(63&e.charCodeAt(i++))<<6|63&e.charCodeAt(i++))-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));r[n++]=c>>10&1023|55296,r[n]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+o.toString(16))}if(n>=32766){var s=n+1;r.length=s,a[a.length]=String.fromCharCode.apply(String,r),t-=s,n=-1}}return n>0&&(r.length=n,a[a.length]=String.fromCharCode.apply(String,r)),a.join("")}function m(e,t){return(void 0===t||null===t||t<0)&&(t=e.length),0===t?"":/^[\x00-\x7f]*$/.test(e)||!/^[\x00-\xff]*$/.test(e)?t===e.length?e:e.substr(0,t):t<65535?p(e,t):f(e,t)}function g(e,t){return void 0===e||null===e||0===e.length?e:(e=u(e),t=u(t),n(s(i(e,!0),c(i(t,!1))),!1))}function h(e,a){return t.btoa(g(e,a))}function b(e,t){return void 0===e||null===e||0===e.length?e:(t=u(t),m(n(d(i(e,!1),c(i(t,!1))),!0)))}function v(e,a){return void 0===e||null===e||0===e.length?e:b(t.atob(e),a)}e.exports={utf8Encode:u,utf8Decode:m,encrypt:g,encryptToBase64:h,decrypt:b,decryptFromBase64:v}}).call(this,a("c8ba"))},5995:function(e,t,a){e.exports={menuBg:"#304156",menuText:"#bfcbd9",menuActiveText:"#409eff"}},"7ffc":function(e,t,a){"use strict";a("5995")},ee45:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publisher"},[a("Header"),a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-position":"left"}},[a("el-form-item",{attrs:{label:"发布者:",prop:"selectType",rules:[{required:!0,message:"请选择发布者",trigger:"change"}]}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:e.changeSelectType},model:{value:e.form.selectType,callback:function(t){e.$set(e.form,"selectType",t)},expression:"form.selectType"}},e._l(e.selectTypeArr,(function(e){return a("el-option",{key:e.label,attrs:{label:e.value,value:e.label}})})),1)],1),"1"===e.form.selectType?a("el-form-item",{attrs:{label:"类型:",prop:"templateNoticeType",rules:[{required:!0,message:"请选择类型",trigger:"change"}]}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.form.templateNoticeType,callback:function(t){e.$set(e.form,"templateNoticeType",t)},expression:"form.templateNoticeType"}},e._l(e.noticeTypesArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1):e._e(),"2"===e.form.selectType?a("el-form-item",{attrs:{label:"单位名称:",prop:"companyNamme"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.form.companyNamme,callback:function(t){e.$set(e.form,"companyNamme",t)},expression:"form.companyNamme"}},e._l(e.companyNammeArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"文章类型:",prop:"artType"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:e.changeArtType},model:{value:e.form.artType,callback:function(t){e.$set(e.form,"artType",t)},expression:"form.artType"}},e._l(e.artTypesArr,(function(e){return a("el-option",{key:e.label,attrs:{label:e.value,value:e.label}})})),1)],1),a("el-form-item",{attrs:{label:"标题:",prop:"title",rules:[{required:!0,message:"请输入标题",trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),"1"===e.form.artType?a("div"):"2"===e.form.artType?a("div",[a("el-form-item",{attrs:{label:"链接:",prop:"personUrl"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.form.personUrl,callback:function(t){e.$set(e.form,"personUrl",t)},expression:"form.personUrl"}})],1)],1):"3"===e.form.artType?a("div",[a("el-form-item",{attrs:{label:"视频地址:",prop:"videoUrl"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.form.videoUrl,callback:function(t){e.$set(e.form,"videoUrl",t)},expression:"form.videoUrl"}})],1),a("el-form-item",{attrs:{label:"视频封面链接:",prop:"videoImgUrl"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.form.videoImgUrl,callback:function(t){e.$set(e.form,"videoImgUrl",t)},expression:"form.videoImgUrl"}})],1)],1):e._e(),"2"!==e.form.artType?a("el-form-item",{attrs:{label:"正文:",prop:"content"}},[a("el-button",{on:{click:e.addArt}},[e._v("添加文字")]),a("el-button",{on:{click:e.addPhoto}},[e._v("添加图文")]),e._l(e.resultData,(function(t,r){return a("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.resultData,group:"result"},expression:"{ item: result, list: resultData, group: 'result',}"}],key:r,staticClass:"reslut-item"},[t.flag?a("div",{staticClass:"article-area",staticStyle:{margin:"20px 0",width:"100%"}},[a("el-input",{staticStyle:{width:"620px"},attrs:{type:"textarea",placeholder:"文字内容"},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"result.desc"}}),a("el-input",{staticStyle:{width:"620px","margin-top":"10px"},attrs:{placeholder:"链接"},model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"result.url"}}),a("br"),a("i",{staticClass:"el-icon-thumb",staticStyle:{"font-size":"18px","margin-left":"550px"}}),a("i",{staticClass:"el-icon-delete-solid",staticStyle:{"font-size":"18px","margin-left":"30px"}})],1):e._e(),t.flag?e._e():a("div",{staticClass:"photo-area",staticStyle:{overflow:"hidden",margin:"20px 0",width:"100%"}},[a("div",{staticStyle:{float:"left"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{multiple:!1,"show-file-list":!1,action:"","auto-upload":!1,"on-change":function(t,a){return e.fileChange(t,a,r)}}},[t.url?a("img",{staticClass:"avatar",attrs:{src:t.url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("div",{staticStyle:{float:"left"}},[a("el-input",{staticStyle:{width:"450px","margin-left":"20px"},attrs:{type:"textarea",placeholder:"图片描述"},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"result.desc"}}),a("br"),a("el-input",{staticStyle:{width:"450px",margin:"10px 0 10px 20px"},attrs:{placeholder:"图片地址",readonly:""},model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"result.url"}}),a("br"),a("span",{staticStyle:{"margin-left":"20px"}},[e._v("宽："),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"图片宽度",readonly:""},model:{value:t.width,callback:function(a){e.$set(t,"width",a)},expression:"result.width"}})],1),a("span",{staticStyle:{"margin-left":"20px"}},[e._v("高："),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"图片高度",readonly:""},model:{value:t.height,callback:function(a){e.$set(t,"height",a)},expression:"result.height"}})],1),a("br"),a("i",{staticClass:"el-icon-thumb",staticStyle:{"font-size":"18px","margin-left":"400px"}}),a("i",{staticClass:"el-icon-delete-solid",staticStyle:{"font-size":"18px","margin-left":"30px"}})],1)])])}))],2):e._e()],1),a("el-button",{staticStyle:{display:"block",position:"fixed","z-index":"999",bottom:"40px",left:"50%","margin-left":"-100px",width:"200px","background-color":"#e20628",border:"none","font-size":"16px",color:"#fff"},on:{click:function(t){return e.submit("form")}}},[e._v("发布")])],1)},n=[],i=(a("0d03"),a("d4ec")),l=a("bee2"),o=a("262e"),c=a("2caf"),s=a("9ab4"),d=a("60a3"),u=a("bc3a"),p=a.n(u),f=a("71c2"),m=a("0bb3"),g=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.form={type:"",selectType:"",templateNoticeType:"",companyNamme:"",artType:"",title:"",videoUrl:"",videoImgUrl:"",personUrl:""},e.noticeTypesArr=[],e.selectTypeArr=[],e.artTypesArr=[{value:"文章",label:"1"},{value:"链接",label:"2"},{value:"文章+视频",label:"3"}],e.resultData=[],e.tokendata=Object(m["a"])(String((new Date).getTime()).substring(String((new Date).getTime()).length-10,String((new Date).getTime()).length),window.localStorage.getItem("accesstoken"),window.localStorage.getItem("uid")),e}return Object(l["a"])(a,[{key:"changeArtType",value:function(e){}},{key:"changeSelectType",value:function(e){if("1"===e){var t=this,a="http://dev-api.aixichuan.cn/bm/index/category";p.a.get(a,{params:{_tokendata:Object(m["a"])(String((new Date).getTime()).substring(String((new Date).getTime()).length-10,String((new Date).getTime()).length),window.localStorage.getItem("accesstoken"),window.localStorage.getItem("uid"))}}).then((function(e){1===e.data.result?t.noticeTypesArr=e.data.data.list:t.$message.error(e.data.msg)}))}}},{key:"addArt",value:function(){this.resultData.push({type:0,desc:"",url:"",flag:!0})}},{key:"addPhoto",value:function(){this.resultData.push({type:1,desc:"",url:"",height:"",width:"",flag:!1})}},{key:"fileChange",value:function(e,t,a){var r=this,n="http://dev-api.aixichuan.cn/common/file/image_upload",i=new FormData;i.append("imgFile",e.raw),i.append("_tokendata",Object(m["a"])(String((new Date).getTime()).substring(String((new Date).getTime()).length-10,String((new Date).getTime()).length),window.localStorage.getItem("accesstoken"),window.localStorage.getItem("uid"))),p.a.post(n,i).then((function(e){1===e.data.result?(r.resultData[a].url=e.data.data.url,r.resultData[a].width=e.data.data.width,r.resultData[a].height=e.data.data.height):r.$message.error(e.data.msg)}))}},{key:"submit",value:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if("1"===t.form.selectType){var a=t,r="http://dev-api.aixichuan.cn/cas/pub/news",n=new FormData;n.append("typeid",t.form.templateNoticeType),n.append("title",t.form.title),n.append("content",t.resultData),n.append("_tokendata",Object(m["a"])(String((new Date).getTime()).substring(String((new Date).getTime()).length-10,String((new Date).getTime()).length),window.localStorage.getItem("accesstoken"),window.localStorage.getItem("uid"))),p.a.post(r,n).then((function(e){1===e.data.reslut?a.$message({message:e.data.msg,type:"success"}):a.$message.error(e.data.msg)}))}else{var i=t,l="http://dev-api.aixichuan.cn/cas/pub/unit_news",o=new FormData;o.append("unit_id",t.form.companyNamme),o.append("title",t.form.title),o.append("content",t.resultData),o.append("_tokendata",Object(m["a"])(String((new Date).getTime()).substring(String((new Date).getTime()).length-10,String((new Date).getTime()).length),window.localStorage.getItem("accesstoken"),window.localStorage.getItem("uid"))),p.a.post(l,o).then((function(e){1===e.data.reslut?i.$message({message:e.data.msg,type:"success"}):i.$message.error(e.data.msg)}))}}))}},{key:"mounted",value:function(){window.localStorage.getItem("bind_unit")&&"undefined"!==window.localStorage.getItem("bind_unit")?(this.selectTypeArr=[{value:"个人",label:"1"},{value:"单位",label:"2"}],this.companyNammeArr=JSON.parse(window.localStorage.getItem("bind_unit")||"[]"),this.form.companyNamme=this.companyNammeArr[0].id):this.selectTypeArr=[{value:"个人",label:"1"}],this.$dragging.$on("dragged",(function(e){})),this.$dragging.$on("dragend",(function(){}))}}]),a}(d["b"]);g=Object(s["a"])([Object(d["a"])({components:{Header:f["a"]}})],g);var h=g,b=h,v=(a("7ffc"),a("2877")),y=Object(v["a"])(b,r,n,!1,null,null,null);t["default"]=y.exports}}]);